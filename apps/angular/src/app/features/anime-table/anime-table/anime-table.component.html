<h2 id="title" class="title">All anime</h2>

<camp-list-management
  (sortChange)="sortList($event)"
  (filterChange)="filterList($event)"
  (searchChange)="searchValue($event)"
  [receivedDefaults]="this.queryParams"
></camp-list-management>

<div class="wrapper">
  <div class="spinner-with-shade" *ngIf="isLoading">
    <mat-spinner></mat-spinner>
  </div>

  <div class="anime-table">
    <table
      mat-table
      [dataSource]="animeList"
      class="mat-elevation-z8"
      [trackBy]="trackById"
      aria-describedby="title"
    >
      <ng-container matColumnDef="titleEng">
        <th mat-header-cell *matHeaderCellDef>Title (English)</th>
        <td mat-cell *matCellDef="let element">
          {{ element.titleEng | emptyValue }}
        </td>
      </ng-container>
      <ng-container matColumnDef="image">
        <th mat-header-cell *matHeaderCellDef>Image</th>
        <td mat-cell *matCellDef="let element" class="cell-anime-img">
          <img src="{{ element.image }}" alt="" />
        </td>
      </ng-container>
      <ng-container matColumnDef="titleJpn">
        <th mat-header-cell *matHeaderCellDef>Title (Japanese)</th>
        <td mat-cell *matCellDef="let element">
          {{ element.titleJpn | emptyValue }}
        </td>
      </ng-container>
      <ng-container matColumnDef="airedStartDate">
        <th mat-header-cell *matHeaderCellDef>Start date</th>
        <td mat-cell *matCellDef="let element">
          {{ element.airedStartDate | date : "YYYY" }}
        </td>
      </ng-container>
      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef>Type</th>
        <td mat-cell *matCellDef="let element">
          {{ element.type | titlecase }}
        </td>
      </ng-container>
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Status</th>
        <td mat-cell *matCellDef="let element">
          {{ element.status | titlecase }}
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <mat-paginator
      (page)="handlePageChange($event)"
      [length]="totalItems"
      [pageSize]="pageSize"
      [pageIndex]="pageIndex"
      [showFirstLastButtons]="true"
      aria-label="Select page"
    >
    </mat-paginator>
  </div>
</div>
